{"ast":null,"code":"import { takeEvery } from \"redux-saga/effects\";\nimport { firestore, convertCollectionSnapShotToMap } from \"../../firebase/firebase.utils\";\nimport { FETCH_COLLECTIONS_FAIL, FETCH_COLLECTIONS_PENDING, FETCH_COLLECTIONS_SUCCESS } from \"./shopActionTypes\";\nexport function* fetchCollectionsAsync() {\n  yield console.log(\"fired\");\n  const collectionRef = firestore.collection(\"collections\");\n  collectionRef.get().then(snapshot => {\n    const collectionsMap = convertCollectionSnapShotToMap(snapshot);\n    dispatch(fetchShopCollectionsSuccess(collectionsMap));\n  }).catch(err => dispatch({\n    type: FETCH_COLLECTIONS_FAIL,\n    payload: err.message\n  }));\n}\nexport function* fetchCollectionsStart() {\n  yield takeEvery(FETCH_COLLECTIONS_PENDING, fetchCollectionsAsync);\n}","map":{"version":3,"sources":["/Users/princeajuobi/Documents/fastsales/src/redux/shop/shopSagas.js"],"names":["takeEvery","firestore","convertCollectionSnapShotToMap","FETCH_COLLECTIONS_FAIL","FETCH_COLLECTIONS_PENDING","FETCH_COLLECTIONS_SUCCESS","fetchCollectionsAsync","console","log","collectionRef","collection","get","then","snapshot","collectionsMap","dispatch","fetchShopCollectionsSuccess","catch","err","type","payload","message","fetchCollectionsStart"],"mappings":"AAAA,SAASA,SAAT,QAA0B,oBAA1B;AACA,SACEC,SADF,EAEEC,8BAFF,QAGO,+BAHP;AAIA,SACEC,sBADF,EAEEC,yBAFF,EAGEC,yBAHF,QAIO,mBAJP;AAMA,OAAO,UAAUC,qBAAV,GAAkC;AACvC,QAAMC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAN;AACA,QAAMC,aAAa,GAAGR,SAAS,CAACS,UAAV,CAAqB,aAArB,CAAtB;AAEAD,EAAAA,aAAa,CACVE,GADH,GAEGC,IAFH,CAEQC,QAAQ,IAAI;AAChB,UAAMC,cAAc,GAAGZ,8BAA8B,CAACW,QAAD,CAArD;AACAE,IAAAA,QAAQ,CAACC,2BAA2B,CAACF,cAAD,CAA5B,CAAR;AACD,GALH,EAMGG,KANH,CAMSC,GAAG,IACRH,QAAQ,CAAC;AACPI,IAAAA,IAAI,EAAEhB,sBADC;AAEPiB,IAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,GAAD,CAPZ;AAYD;AAED,OAAO,UAAUC,qBAAV,GAAkC;AACvC,QAAMtB,SAAS,CAACI,yBAAD,EAA4BE,qBAA5B,CAAf;AACD","sourcesContent":["import { takeEvery } from \"redux-saga/effects\";\nimport {\n  firestore,\n  convertCollectionSnapShotToMap\n} from \"../../firebase/firebase.utils\";\nimport {\n  FETCH_COLLECTIONS_FAIL,\n  FETCH_COLLECTIONS_PENDING,\n  FETCH_COLLECTIONS_SUCCESS\n} from \"./shopActionTypes\";\n\nexport function* fetchCollectionsAsync() {\n  yield console.log(\"fired\");\n  const collectionRef = firestore.collection(\"collections\");\n\n  collectionRef\n    .get()\n    .then(snapshot => {\n      const collectionsMap = convertCollectionSnapShotToMap(snapshot);\n      dispatch(fetchShopCollectionsSuccess(collectionsMap));\n    })\n    .catch(err =>\n      dispatch({\n        type: FETCH_COLLECTIONS_FAIL,\n        payload: err.message\n      })\n    );\n}\n\nexport function* fetchCollectionsStart() {\n  yield takeEvery(FETCH_COLLECTIONS_PENDING, fetchCollectionsAsync);\n}\n"]},"metadata":{},"sourceType":"module"}